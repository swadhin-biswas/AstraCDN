---
import '../styles/theme.css';
---

<html lang="en">
<head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>AstraCDN - Free Image Hosting via Discord CDN</title>
    <meta name="description" content="AstraCDN is a free image hosting service that uses Discord as a CDN. Upload your images and get a direct link to share them anywhere. Perfect for developers and content creators who need a fast, reliable, and free image hosting solution." />
    <meta name="keywords" content="discord image bot, free image hosting, temp image, free cdn, image hosting, discord cdn, astro cdn, swadhinbiswas, AstraCDN" />

    <!-- Open Graph -->
    <meta property="og:title" content="AstraCDN - Free Image Hosting via Discord CDN" />
    <meta property="og:description" content="AstraCDN is a free image hosting service that uses Discord as a CDN. Upload your images and get a direct link to share them anywhere." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://github.com/swadhinbiswas/AstraCDN" />
    <meta property="og:image" content="/og-image.png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="AstraCDN - Free Image Hosting via Discord CDN" />
    <meta name="twitter:description" content="AstraCDN is a free image hosting service that uses Discord as a CDN. Upload your images and get a direct link to share them anywhere." />
    <meta name="twitter:image" content="/og-image.png" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&display=swap" rel="stylesheet">

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "AstraCDN",
      "url": "https://github.com/swadhinbiswas/AstraCDN",
      "description": "A free image hosting service that uses Discord as a CDN.",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0"
      }
    }
    </script>
</head>
<body>
    <header>
        <div class="logo">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2L2 7V17L12 22L22 17V7L12 2Z" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M2 7L12 12L22 7" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M12 22V12" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M17 4.5L7 9.5" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>AstraCDN</span>
        </div>
        <nav>
            <a href="https://github.com/swadhinbiswas/AstraCDN" target="_blank" class="github-link">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>Star</span>
            </a>
        </nav>
    </header>

    <main class="container">
        <section class="section hero-section">
            <div class="hero-text">
                <h1>Free, Fast, and Simple Image Hosting</h1>
                <p>AstraCDN leverages the power of Discord's CDN, delivered through a blazing-fast Astro API, to provide a robust and free image hosting solution.</p>
            </div>
            <div class="hero-icons">
                <svg  viewBox="0 0 256 366" preserveAspectRatio="xMidYMid" width="50" height="50"><path fill="#fff" d="M182.022 9.147c2.982 3.702 4.502 8.697 7.543 18.687L256 246.074a276.467 276.467 0 0 0-79.426-26.891L133.318 73.008a5.63 5.63 0 0 0-10.802.017L79.784 219.11A276.453 276.453 0 0 0 0 246.04L66.76 27.783c3.051-9.972 4.577-14.959 7.559-18.654a24.541 24.541 0 0 1 9.946-7.358C88.67 0 93.885 0 104.314 0h47.683c10.443 0 15.664 0 20.074 1.774a24.545 24.545 0 0 1 9.95 7.373Z"/><path fill="#FF5D01" d="M189.972 256.46c-10.952 9.364-32.812 15.751-57.992 15.751-30.904 0-56.807-9.621-63.68-22.56-2.458 7.415-3.009 15.903-3.009 21.324 0 0-1.619 26.623 16.898 45.14 0-9.615 7.795-17.41 17.41-17.41 16.48 0 16.46 14.378 16.446 26.043l-.001 1.041c0 17.705 10.82 32.883 26.21 39.28a35.685 35.685 0 0 1-3.588-15.647c0-16.886 9.913-23.173 21.435-30.48 9.167-5.814 19.353-12.274 26.372-25.232a47.588 47.588 0 0 0 5.742-22.735c0-5.06-.786-9.938-2.243-14.516Z"/></svg>
                <svg viewBox="0 0 256 199" preserveAspectRatio="xMidYMid" width="50" height="50"><path d="M216.856 16.597A208.502 208.502 0 0 0 164.042 0c-2.275 4.113-4.933 9.645-6.766 14.046-19.692-2.961-39.203-2.961-58.533 0-1.832-4.4-4.55-9.933-6.846-14.046a207.809 207.809 0 0 0-52.855 16.638C5.618 67.147-3.443 116.4 1.087 164.956c22.169 16.555 43.653 26.612 64.775 33.193A161.094 161.094 0 0 0 79.735 175.3a136.413 136.413 0 0 1-21.846-10.632 108.636 108.636 0 0 0 5.356-4.237c42.122 19.702 87.89 19.702 129.51 0a131.66 131.66 0 0 0 5.355 4.237 136.07 136.07 0 0 1-21.886 10.653c4.006 8.02 8.638 15.67 13.873 22.848 21.142-6.58 42.646-16.637 64.815-33.213 5.316-56.288-9.08-105.09-38.056-148.36ZM85.474 135.095c-12.645 0-23.015-11.805-23.015-26.18s10.149-26.2 23.015-26.2c12.867 0 23.236 11.804 23.015 26.2.02 14.375-10.148 26.18-23.015 26.18Zm85.051 0c-12.645 0-23.014-11.805-23.014-26.18s10.148-26.2 23.014-26.2c12.867 0 23.236 11.804 23.015 26.2 0 14.375-10.148 26.18-23.015 26.18Z" fill="#5865F2"/></svg>
                                <svg viewBox="0 0 256 231" preserveAspectRatio="xMidYMid" width="50" height="50">
    <defs>
        <linearGradient id="cloudflare_workers__a" x1="128" x2="128" y1="3.324" y2="230.82" gradientUnits="userSpaceOnUse">
            <stop stop-color="#F38020"/>
            <stop offset="1" stop-color="#F64F00"/>
        </linearGradient>
        <linearGradient id="cloudflare_workers__b" x1="68.283" x2="68.283" y1="107.654" y2="230.82" gradientUnits="userSpaceOnUse">
            <stop stop-color="#F38020"/>
            <stop offset="1" stop-color="#F64F00"/>
        </linearGradient>
        <linearGradient id="cloudflare_workers__c" x1="68.898" x2="68.898" y1="8.802" y2="57.802" gradientUnits="userSpaceOnUse">
            <stop stop-color="#F38020"/>
            <stop offset="1" stop-color="#F64F00"/>
        </linearGradient>
        <linearGradient id="cloudflare_workers__d" x1="179.988" x2="179.988" y1="0" y2="230.82" gradientUnits="userSpaceOnUse">
            <stop stop-color="#F38020"/>
            <stop offset="1" stop-color="#F64F00"/>
        </linearGradient>
        <linearGradient id="cloudflare_workers__e" x1="150.065" x2="150.065" y1="0" y2="230.45" gradientUnits="userSpaceOnUse">
            <stop stop-color="#F38020"/>
            <stop offset="1" stop-color="#F64F00"/>
        </linearGradient>
        <linearGradient id="cloudflare_workers__f" x1="127.988" x2="127.988" y1="0" y2="230.819" gradientUnits="userSpaceOnUse">
            <stop stop-color="#F38020"/>
            <stop offset="1" stop-color="#F64F00"/>
        </linearGradient>
        <linearGradient id="cloudflare_workers__g" x1="152.778" x2="152.778" y1="0" y2="230.82" gradientUnits="userSpaceOnUse">
            <stop stop-color="#F38020"/>
            <stop offset="1" stop-color="#F64F00"/>
        </linearGradient>
        <linearGradient id="cloudflare_workers__h" x1="95.542" x2="95.542" y1="0.984" y2="229.589" gradientUnits="userSpaceOnUse">
            <stop stop-color="#F38020"/>
            <stop offset="1" stop-color="#F64F00"/>
        </linearGradient>
    </defs>
    <path fill="url(#cloudflare_workers__a)" d="m65.82 3.324 30.161 54.411-27.698 49.857a16.003 16.003 0 0 0 0 15.573l27.698 49.98-30.16 54.411a32.007 32.007 0 0 1-13.542-12.74L4.27 131.412a32.13 32.13 0 0 1 0-32.007l48.01-83.403a32.007 32.007 0 0 1 13.542-12.68Z"/>
    <path fill="url(#cloudflare_workers__b)" d="M68.283 107.654a16.003 16.003 0 0 0 0 15.51l27.698 49.98-30.16 54.412a32.007 32.007 0 0 1-13.542-12.74L4.27 131.412c-3.816-6.586 17.542-14.465 64.014-23.698v-.061Z" opacity=".7"/>
    <path fill="url(#cloudflare_workers__c)" d="m68.898 8.802 27.083 48.933-4.493 7.818-23.882-40.44c-6.894-11.264-17.42-5.416-30.591 17.358l1.97-3.386 13.294-23.082a32.007 32.007 0 0 1 13.419-12.68l3.139 5.479h.061Z" opacity=".5"/>
    <path fill="url(#cloudflare_workers__d)" d="m203.696 16.003 48.01 83.403c5.725 9.848 5.725 22.159 0 32.007l-48.01 83.402a32.007 32.007 0 0 1-27.698 16.004h-48.01l59.705-107.654a16.003 16.003 0 0 0 0-15.511L127.988 0h48.01a32.007 32.007 0 0 1 27.698 16.003Z"/>
    <path fill="url(#cloudflare_workers__e)" d="m173.536 230.45-47.395.43 57.367-108.208a16.619 16.619 0 0 0 0-15.634L126.14 0h10.834l60.197 106.546a16.619 16.619 0 0 1-.062 16.496 9616.838 9616.838 0 0 0-38.592 67.707c-11.695 20.558-6.648 33.791 15.018 39.7Z"/>
    <path fill="url(#cloudflare_workers__f)" d="M79.978 230.819c-4.924 0-9.849-1.17-14.157-3.263l59.212-106.792a11.045 11.045 0 0 0 0-10.71L65.821 3.324A32.007 32.007 0 0 1 79.978 0h48.01l59.705 107.654a16.003 16.003 0 0 1 0 15.51L127.988 230.82h-48.01Z"/>
    <path fill="url(#cloudflare_workers__g)" d="M183.508 110.054 122.448 0h5.54l59.705 107.654a16.003 16.003 0 0 1 0 15.51L127.988 230.82h-5.54l61.06-110.055a11.045 11.045 0 0 0 0-10.71Z" opacity=".6"/>
    <path fill="url(#cloudflare_workers__h)" d="M125.033 110.054 65.821 3.324c1.846-.985 4.062-1.724 6.155-2.34 13.049 23.452 32.315 59.029 57.859 106.67a16.003 16.003 0 0 1 0 15.51L71.053 229.589c-2.093-.616-3.201-1.047-5.17-1.97l59.089-106.792a11.045 11.045 0 0 0 0-10.71l.061-.062Z" opacity=".6"/>
</svg>
            </div>
        </section>

        <section class="section upload-section">
            <h3>Try It Out</h3>
            <div id="upload-container">
                <div id="drop-zone" class="card">
                    <p>Drag & drop your image here, or click to select a file</p>
                    <input type="file" id="file-input" accept="image/*" hidden>
                </div>
            </div>
            <div id="results-container" hidden>
                <h4>Upload Complete</h4>
                <p>Your image has been uploaded successfully. Choose your preferred format:</p>
                <div class="card">
                    <strong>Direct URL</strong>
                    <pre><code>https://your-domain.com/file/placeholder.jpg</code></pre>
                    <strong>Markdown</strong>
                    <pre><code>![Image](https://your-domain.com/file/placeholder.jpg)</code></pre>
                    <strong>HTML</strong>
                    <pre><code>&lt;img src="https://your-domain.com/file/placeholder.jpg" alt="Image" /&gt;</code></pre>
                </div>
                <h4>Preview</h4>
                <img id="image-preview" src="#" alt="Image preview" />
            </div>
        </section>

        <section class="section">
            <h3>How It Works</h3>
            <div class="grid">
                <div class="card">
                    <h4>1. Upload</h4>
                    <p>Send a POST request with your image to our API endpoint.</p>
                </div>
                <div class="card">
                    <h4>2. Store</h4>
                    <p>Your image is instantly uploaded to a private Discord channel.</p>
                </div>
                <div class="card">
                    <h4>3. Serve</h4>
                    <p>We provide you with a direct link to the image on Discord's CDN, ready to be used anywhere.</p>
                </div>
            </div>
        </section>

        <section class="section">
            <h3>API Usage</h3>
            <div class="card">
                <h4>Upload an Image</h4>
                <p>Send a `POST` request to `/api/upload` with `multipart/form-data`.</p>
                <pre><code>curl -X POST -F "file=@/path/to/your/image.jpg" https://your-domain.com/api/upload</code></pre>

                <h4>Delete an Image</h4>
                <p>Send a `DELETE` request to `/api/file/[fileId]`.</p>
                <pre><code>curl -X DELETE https://your-domain.com/api/file/123456789012345678</code></pre>
            </div>
        </section>

        <section class="section">
            <h3>Future Features</h3>
            <div class="grid">
                <div class="card">
                    <h4>User Authentication</h4>
                    <p>Sign up and manage your own gallery of images.</p>
                </div>
                <div class="card">
                    <h4>Web Dashboard</h4>
                    <p>A full UI to upload, view, and manage your images from your browser.</p>
                </div>
                <div class="card">
                    <h4>Image Optimization</h4>
                    <p>Automatic image resizing and optimization for web performance.</p>
                </div>
                <div class="card">
                    <h4>Custom Domains</h4>
                    <p>Link your own domain or subdomain to serve images.</p>
                </div>
                <div class="card">
                    <h4>Analytics</h4>
                    <p>Track views and bandwidth for your images.</p>
                </div>
                <div class="card">
                    <h4>More File Types</h4>
                    <p>Support for GIFs, videos, and other file formats.</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <a href="https://github.com/swadhinbiswas" target="_blank" class="github-link">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </a>
    </footer>

    <script>
        const dropZone = document.getElementById('drop-zone');
        const fileInput = document.getElementById('file-input');
        const uploadContainer = document.getElementById('upload-container');
        const resultsContainer = document.getElementById('results-container');
        const imagePreview = document.getElementById('image-preview');
        const directUrl = document.querySelector('#results-container .card pre:nth-of-type(1) code');
        const markdownUrl = document.querySelector('#results-container .card pre:nth-of-type(2) code');
        const htmlUrl = document.querySelector('#results-container .card pre:nth-of-type(3) code');

        dropZone.addEventListener('click', () => fileInput.click());

        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropZone.classList.add('drag-over');
        });

        dropZone.addEventListener('dragleave', () => {
            dropZone.classList.remove('drag-over');
        });

        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.classList.remove('drag-over');
            const file = e.dataTransfer.files[0];
            if (file) {
                handleFileUpload(file);
            }
        });

        fileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                handleFileUpload(file);
            }
        });

        async function handleFileUpload(file) {
            uploadContainer.hidden = true;
            resultsContainer.hidden = false;
            resultsContainer.classList.add('loading');

            const formData = new FormData();
            formData.append('file', file);

            try {
                const response = await fetch('/api/upload', {
                    method: 'POST',
                    body: formData,
                });

                if (!response.ok) {
                    throw new Error('Upload failed');
                }

                                    const result = await response.json();
                                    const { viewUrl } = result;
                
                                    imagePreview.src = viewUrl;
                                    directUrl.textContent = viewUrl;
                                    markdownUrl.textContent = `![Image](${viewUrl})`;
                                    htmlUrl.innerHTML = `&lt;img src="${viewUrl}" alt="Image" /&gt;`;
            } catch (error) {
                console.error('Upload error:', error);
                resultsContainer.innerHTML = '<p>Sorry, the upload failed. Please try again.</p>';
            } finally {
                resultsContainer.classList.remove('loading');
            }
        }
    </script>
</body>
</html>
